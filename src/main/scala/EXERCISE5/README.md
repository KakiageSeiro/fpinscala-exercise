# 正格と非正格

"すぐに評価されない形式の式"をサンク(thunk)と呼ぶ。↓の`onTrue: () => A` とかのこと
```Scala
def if2[A](cond: Boolean, onTrue: () => A, onFalse: () => A): A =
	if (cond) onTrue() else onFalse()
```

↓のように`onTrue: => A`することでサンクで囲む(正格化する)のを自動やってくれる。
なので2行目で()なしで呼び出せてる
```Scala
def if2[A](cond: Boolean, onTrue: => A, onFalse: => A): A = 
	if (cond) onTrue else onFalse
```

### `サンクで囲む`という言葉
- サンクは()つけるまで評価されないもののことだが
    - サンクで囲むと言った時は「評価されないものにする」ではなく「正格化する」の意と思ってよさそう

### lazy
val 宣言に`lazy`キーワードを追加すると
- 最初に参照されるときまで先送り
- 結果がキャッシュされ、再評価されない


### `明示的なサンク`という言葉
```Scala
case class Cons[+A](h: () => A, t: () => Stream[A]) extends Stream[A]
```
Consデータコンストラクタは通常の正格値ではなく明示的なサンクを受け取る。
と表現される。
つまり
`() => A`の形で受け取る＝明示的なサンクを受け取る

"明示的な"とついているが、普通に「サンクを受け取る」は「すぐに評価されない形式の式を受け取る」と考えてよさそう



